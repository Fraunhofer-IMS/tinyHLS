# TinyHLS

**tinyHLS** is a compact Hardware-Compiler developed by Fraunhofer IMS. It processes tensorflow.keras neural networks and translates them into equivalent Verilog-Code.
Different configurations can be made. The output is platform independent Verilog HDL code. 


## Features

tinyHLS supports following layers.
 - conv1D
 - maxpool1D
 - globalaveragepool1D
 - dense
Linear and ReLU activation can be implemented.

The conv1D is currently configurable as a resource and as a fast option. This enables a resource friendly utilitization and a fast, more resource intense version.

tinyHLS is currently under development.

## Quickstart 

### Conda Installation
It is recommended to use the framework in a [conda](https://docs.conda.io/en/latest/) environment. To setup the environment and activate it, the following commands have to be run after cloning the repository: 

`$ conda env create -f environment.yml`
`$ conda activate tinyHLS`
`$ pip install. `


### Usage
A model can be trained or loaded using the standard workflow in Python TensorFlow Keras. The first part of the translation process is, to convert the weights of the user CNN into verilog includes by running the following commands: 

`tinyhls.extract_weights()`
`tinyhls.convert_weights_to_hex()`
`tinyhls.create_verilog_includes()`

Second, the model is translated into HDL and a testbench with examplary values generated by the following commands 

`tinyhls.translate_model()`
`tinyhls.create_testbench()`


### Example 
An example of a small CNN is provided in the `test.py` file. 

### Simulation 
A simulation environment using a free version of vivado should soon be provided. 


### Requirements

tensorflow==2.11.0
numpy==1.22.3


### License

This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a [copy of the GNU General Public License](https://gitlab.cc-asp.fraunhofer.de/risc-v/tinyhls/-/blob/develop/License.md) along with this program.  If not, see <https://www.gnu.org/licenses/>.

## Contact

Fraunhofer Institute for Microelectronic Circuits and Systems, Duisburg, Germany

- Homepage: [ims.fraunhofer.de/en.html](https://www.ims.fraunhofer.de/en.html)
- Project maintainer: [Ingo Hoyer](mailto:ingo.hoyer@ims.fraunhofer.de)
- Contact for questions regarding license and exploitation: [tinyHLS support](mailto:tinyHLS@ims.fraunhofer.de) 
